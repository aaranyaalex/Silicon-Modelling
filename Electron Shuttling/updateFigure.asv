function updateFigure( sparams, fig, wf1, wf2, xx, vv, timeInd )
%UPDATEFIGURE Summary of this function goes here
%   Detailed explanation goes here

    figure(fig);
    clf;
    hold on;
    
    xlabel('Position [nm]','Interpreter','Latex','Fontsize',12);
    xlim([min(xx),max(xx)]);
    
    yyaxis left
    plot(xx,vv/sparams.ee);
    ylabel('Potential [V]','Interpreter','Latex','Fontsize',12);
    
    yyaxis right
    plot(xx,abs(wf1).^2/norm(abs(tempWF).^2));
    plot(xx,abs(wf2).^2/norm(abs(tempWF).^2));
    
    plot(xx,abs(wf1.^2)/2000000000 + sparams.figWFMin/sparams.ee);
    plot(xx,abs(wf2.^2)/2000000000 + sparams.figWFMin/sparams.ee);
    title(['Shuttling Simulation ' num2str(sparams.totalTime(timeInd)) '[s]'],'interpreter','latex','fontsize',12);
    
    legend('Current Potential','Current Sim |\psi|^2','Current Ground State |\psi|^2');
    
    yyaxis right
    plot(xx,abs(tempWF).^2/norm(abs(tempWF).^2));
    ylabel('Probability [Arb]','Interpreter','Latex');
end

